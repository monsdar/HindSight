{% comment %}
Demo bonus card template - showcases special/bonus events with unique styling
{% endcomment %}

<article class="prediction-card rounded-2xl border-2 border-amber-500/50 bg-gradient-to-br from-amber-950 via-orange-950 to-slate-900 p-6 shadow-2xl relative overflow-hidden">
  
  {# Animated background effect #}
  <div class="absolute inset-0 bg-gradient-to-r from-amber-500/5 via-orange-500/10 to-amber-500/5 animate-pulse pointer-events-none"></div>
  
  <div class="relative z-10">
    {# Header with Bonus Badges #}
    <header class="flex items-start justify-between gap-3">
      <div class="flex-1">
        <div class="flex items-center gap-2 flex-wrap">
          <p class="text-xs uppercase tracking-wide text-amber-400 font-bold">{{ event.tip_type.name }}</p>
          <span class="rounded-full bg-amber-500/30 border border-amber-500/60 px-2 py-0.5 text-xs font-bold text-amber-200">
            DEMO
          </span>
          <span class="inline-flex items-center gap-1 rounded-full bg-gradient-to-r from-amber-500 to-orange-500 px-3 py-1 text-xs font-bold text-white shadow-lg">
            ‚≠ê BONUS EVENT
          </span>
        </div>
        <h3 class="mt-2 text-xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-amber-200 via-orange-200 to-amber-200">
          {{ event.name }}
        </h3>
        {% if event.description %}
          <p class="mt-2 text-sm text-slate-200 font-medium">{{ event.description }}</p>
        {% endif %}
      </div>
      <div class="text-right">
        <p class="text-xs text-amber-300">Deadline</p>
        <p class="text-sm font-bold text-amber-200">{{ event.deadline|date:"H:i:s" }}</p>
      </div>
    </header>
    
    {# Points Badge - Extra Large #}
    <div class="mt-4 flex flex-wrap items-center gap-3">
      <span class="rounded-xl bg-gradient-to-r from-amber-500 to-orange-500 px-4 py-2 text-base font-bold uppercase text-white shadow-lg">
        üéØ {{ event.points }} POINTS
      </span>
      <span class="text-xs text-amber-300 font-semibold">
        Worth {{ event.points }}x normal points!
      </span>
    </div>
    
    {# Prediction Options - Enhanced Style #}
    {% if active_user %}
      <div class="mt-5 space-y-3">
        <p class="text-sm font-bold uppercase tracking-wide text-amber-200">Make your prediction</p>
        <div class="space-y-2">
          {% for option in event.options.all %}
            <label class="flex items-center gap-3 rounded-xl border-2 {% if user_tip and user_tip.prediction_option_id == option.id %}border-amber-400 bg-amber-500/20{% else %}border-amber-800/50 bg-slate-900/70{% endif %} px-5 py-4 cursor-pointer transition-all hover:border-amber-400 hover:bg-slate-800/70 hover:scale-[1.02]">
              <input type="radio" 
                     name="prediction_{{ event.id }}" 
                     value="{{ option.id }}" 
                     form="tips-form"
                     class="h-5 w-5 border-amber-600 text-amber-500 focus:ring-amber-500"
                     {% if user_tip and user_tip.prediction_option_id == option.id %}checked{% endif %} />
              <span class="flex-1 font-bold text-amber-100 text-base">{{ option.label }}</span>
              {% if user_tip and user_tip.prediction_option_id == option.id %}
                <span class="text-amber-400">‚úì</span>
              {% endif %}
            </label>
          {% endfor %}
        </div>
      </div>
      
      {# Lock Option - Enhanced #}
      <div class="mt-5 flex items-center justify-between bg-gradient-to-r from-slate-900/80 to-slate-800/80 rounded-xl px-5 py-4 border border-amber-800/30">
        <label class="inline-flex items-center gap-3 text-sm text-amber-100 cursor-pointer">
          <input type="checkbox" 
                 name="lock_{{ event.id }}" 
                 value="1" 
                 form="tips-form"
                 class="h-5 w-5 rounded border-amber-600 text-amber-500 focus:ring-amber-500"
                 {% if user_tip and user_tip.is_locked %}checked{% endif %}
                 {% if lock_summary and lock_summary.available == 0 and not user_tip.is_locked %}disabled{% endif %} />
          <span class="font-bold">üîí Lock for DOUBLE bonus points!</span>
        </label>
        {% if user_tip and user_tip.is_locked %}
          <span class="rounded-full bg-gradient-to-r from-amber-500 to-orange-500 px-4 py-1 text-xs font-bold uppercase text-white shadow-lg animate-pulse">
            ‚ö° Locked
          </span>
        {% endif %}
      </div>
      
      {% if user_tip %}
        <p class="mt-3 text-xs text-amber-400/80 text-center">
          Last updated: {{ user_tip.updated_at|date:"M d, Y H:i" }}
        </p>
      {% endif %}
    {% else %}
      <p class="mt-5 text-sm text-amber-200 text-center py-5 bg-slate-900/70 rounded-xl font-semibold">
        Activate a user to make predictions on this bonus event
      </p>
    {% endif %}
  </div>
  
</article>
