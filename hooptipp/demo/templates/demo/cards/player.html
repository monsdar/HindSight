{% comment %}
Demo player card template - showcases player-type predictions
{% endcomment %}

<article class="prediction-card rounded-2xl border border-blue-800/50 bg-gradient-to-br from-blue-950 to-slate-900 p-5 shadow-lg">
  
  {# Header with Demo Badge #}
  <header class="flex items-start justify-between gap-3">
    <div class="flex-1">
      <div class="flex items-center gap-2">
        <p class="text-xs uppercase tracking-wide text-blue-400">{{ event.tip_type.name }}</p>
        <span class="rounded-full bg-blue-500/20 border border-blue-500/40 px-2 py-0.5 text-xs font-semibold text-blue-300">
          DEMO
        </span>
      </div>
      <h3 class="mt-1 text-lg font-semibold text-slate-100">{{ event.name }}</h3>
      {% if event.description %}
        <p class="mt-1 text-sm text-slate-300">{{ event.description }}</p>
      {% endif %}
    </div>
    <div class="text-right">
      <p class="text-xs text-slate-400">Deadline</p>
      <p class="text-xs font-semibold text-blue-300">{{ event.deadline|date:"H:i:s" }}</p>
    </div>
  </header>
  
  {# Points Badge #}
  <div class="mt-3 flex flex-wrap items-center gap-2">
    <span class="rounded-full bg-blue-500/20 border border-blue-500/40 px-3 py-1 text-xs font-semibold uppercase text-blue-300">
      {{ event.points }} pt{{ event.points|pluralize }}
    </span>
  </div>
  
  {# Prediction Options - Player Cards #}
  {% if active_user %}
    <div class="mt-4 space-y-3">
      <p class="text-xs font-semibold uppercase tracking-wide text-slate-300">Select a character</p>
      <div class="grid grid-cols-2 gap-3">
        {% for option in event.options.all %}
          <label class="relative flex flex-col items-center gap-2 rounded-xl border-2 {% if user_tip and user_tip.prediction_option_id == option.id %}border-blue-500 bg-blue-500/10{% else %}border-slate-700 bg-slate-900/50{% endif %} p-4 cursor-pointer transition-all hover:border-blue-400 hover:bg-slate-800/50 hover:scale-[1.02]">
            <input type="radio" 
                   name="prediction_{{ event.id }}" 
                   value="{{ option.id }}" 
                   form="tips-form"
                   class="absolute opacity-0"
                   {% if user_tip and user_tip.prediction_option_id == option.id %}checked{% endif %} />
            <div class="w-16 h-16 rounded-full bg-gradient-to-br from-blue-500 to-blue-700 flex items-center justify-center text-2xl font-bold text-white shadow-lg">
              {{ option.option.short_name }}
            </div>
            <span class="font-semibold text-slate-100 text-sm text-center">{{ option.option.name }}</span>
            {% if user_tip and user_tip.prediction_option_id == option.id %}
              <span class="absolute top-2 right-2 text-blue-400 text-xl">âœ“</span>
            {% endif %}
          </label>
        {% endfor %}
      </div>
    </div>
    
    {# Lock Option #}
    <div class="mt-4 flex items-center justify-between bg-slate-900/50 rounded-lg px-4 py-3">
      <label class="inline-flex items-center gap-2 text-sm text-slate-200 cursor-pointer">
        <input type="checkbox" 
               name="lock_{{ event.id }}" 
               value="1" 
               form="tips-form"
               class="h-4 w-4 rounded border-blue-600 text-blue-500 focus:ring-blue-500"
               {% if user_tip and user_tip.is_locked %}checked{% endif %}
               {% if lock_summary and lock_summary.available == 0 and not user_tip.is_locked %}disabled{% endif %} />
        <span class="font-medium">ðŸ”’ Lock this pick</span>
      </label>
      {% if user_tip and user_tip.is_locked %}
        <span class="rounded-full bg-amber-500/20 border border-amber-500/40 px-3 py-1 text-xs font-semibold uppercase text-amber-300">
          Locked
        </span>
      {% endif %}
    </div>
    
    {% if user_tip %}
      <p class="mt-2 text-xs text-slate-400 text-center">
        Last updated: {{ user_tip.updated_at|date:"M d, Y H:i" }}
      </p>
    {% endif %}
  {% else %}
    <p class="mt-4 text-sm text-slate-300 text-center py-4 bg-slate-900/50 rounded-lg">
      Activate a user to make predictions
    </p>
  {% endif %}
  
</article>
