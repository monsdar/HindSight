# Generated by Django 5.2 on 2025-10-20 20:33

from django.db import migrations


def set_default_pins(apps, schema_editor):
    """Set default PIN (LAL,LAC,SAC) for existing users without a PIN."""
    UserPreferences = apps.get_model('predictions', 'UserPreferences')
    
    # Set default PIN for users who don't have one
    UserPreferences.objects.filter(activation_pin='').update(activation_pin='LAL,LAC,SAC')


def reverse_default_pins(apps, schema_editor):
    """Remove default PINs (set back to empty)."""
    UserPreferences = apps.get_model('predictions', 'UserPreferences')
    
    # Remove default PINs
    UserPreferences.objects.filter(activation_pin='LAL,LAC,SAC').update(activation_pin='')


class Migration(migrations.Migration):

    dependencies = [
        ('predictions', '0006_userpreferences_activation_pin'),
    ]

    operations = [
        migrations.RunPython(set_default_pins, reverse_default_pins),
    ]
